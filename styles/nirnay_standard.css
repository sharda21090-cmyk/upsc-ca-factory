@page {
    size: A4;
    margin: 10mm 9mm;
}

/* applies to every printed page */
body {
    margin: 0;
}

.page {
    padding: 0;
}

/* default */

@media screen {
    .page {
        padding: 10mm 9mm;
    }

    /* only for on-screen preview */
}

html,
body {
    height: 100%;
}

body {
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    color: #0f2433;
    text-rendering: geometricPrecision;
    -webkit-font-smoothing: antialiased;
}

/* IMPORTANT: this enforces visible margins for HTML print + PDF */
.page {
    padding: 10mm 9mm;
}

.book {
    width: 100%;
}

.prose {
    column-count: 2;
    column-gap: 18mm;
    column-fill: auto;
    column-rule: 1px solid rgba(15, 36, 51, .10);
    font-size: 12.2px;
    line-height: 1.55;
}

.prose * {
    box-sizing: border-box;
}

.prose p {
    margin: 0 0 8px 0;
}

.prose strong {
    font-weight: 800;
}

/* Main header */
.prose h1 {
    column-span: all;
    -webkit-column-span: all;
    margin: 0 0 18px 0;
    padding: 28px 22px;
    min-height: 108px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;

    background: linear-gradient(180deg, rgba(74, 107, 135, .22) 0%, rgba(74, 107, 135, .12) 100%);
    border: 1px solid rgba(15, 36, 51, .12);
    border-left: 12px solid rgba(74, 107, 135, .86);
    border-radius: 16px;

    font-weight: 950;
    letter-spacing: .12em;
    text-transform: uppercase;
    font-size: 34px;
    line-height: 1.12;

    box-shadow: 0 12px 26px rgba(15, 36, 51, .12);
}

/* Default headings */
.prose h2 {
    column-span: none !important;
    -webkit-column-span: none !important;
    display: block;
    margin: 14px 0 10px 0;
    padding: 10px 12px;

    background: rgba(74, 107, 135, .10);
    border: 1px solid rgba(15, 36, 51, .10);
    border-left: 8px solid rgba(74, 107, 135, .70);
    border-radius: 12px;

    font-weight: 900;
    letter-spacing: .01em;
}

.prose h3 {
    margin: 12px 0 8px 0;
    font-weight: 900;
}

.prose h4 {
    margin: 10px 0 6px 0;
    font-weight: 900;
}

.prose h5 {
    margin: 9px 0 6px 0;
    font-weight: 900;
}

.prose h6 {
    margin: 9px 0 6px 0;
    font-weight: 900;
}

/* Topic titles: strong differentiator */
.prose h2.topic-title {
    padding: 16px 14px 14px 16px !important;
    margin: 14px 0 12px 0 !important;
    border-radius: 18px !important;
    border: 1px solid rgba(15, 36, 51, .12) !important;

    background: linear-gradient(135deg, rgba(26, 152, 202, .16) 0%, rgba(47, 125, 74, .10) 55%, rgba(92, 56, 181, .10) 100%) !important;
    box-shadow: 0 14px 28px rgba(15, 36, 51, .10) !important;

    border-left: 0 !important;
    font-weight: 950 !important;
    font-size: 18.2px !important;
    line-height: 1.22 !important;
    position: relative;
}

.prose h2.topic-title::before {
    content: "TOPIC";
    display: inline-block;
    font-size: 10px;
    letter-spacing: .20em;
    font-weight: 900;
    color: rgba(15, 36, 51, .60);
    background: rgba(255, 255, 255, .55);
    border: 1px solid rgba(15, 36, 51, .10);
    padding: 4px 8px;
    border-radius: 999px;
    margin-right: 10px;
    vertical-align: middle;
}

.prose h2.topic-title::after {
    content: "";
    position: absolute;
    left: 16px;
    right: 16px;
    bottom: 10px;
    height: 2px;
    background: rgba(15, 36, 51, .18);
    border-radius: 999px;
}

/* Lists */
.prose ul {
    margin: 6px 0 8px 0;
    padding-left: 16px;
}

.prose li {
    margin: 4px 0;
}

.prose li::marker {
    color: rgba(15, 36, 51, .55);
}

.prose hr {
    border: none;
    height: 1px;
    background: rgba(15, 36, 51, .18);
    margin: 18px 0;
}

/* Premium pastel palette */
:root {
    --blue-bg: rgba(43, 106, 164, .10);
    --blue-bar: rgba(43, 106, 164, .80);

    --green-bg: rgba(47, 125, 74, .10);
    --amber-bg: rgba(176, 106, 0, .11);
    --violet-bg: rgba(92, 56, 181, .10);

    --green-top: rgba(47, 125, 74, .35);
    --amber-top: rgba(176, 106, 0, .35);
    --violet-top: rgba(92, 56, 181, .35);
}

.colorbox {
    padding: 10px 12px;
    border-radius: 16px;
    margin: 8px 0 10px 0;
    border: 1px solid rgba(15, 36, 51, .10);
    box-shadow: 0 10px 24px rgba(15, 36, 51, .08);
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;

    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;

    background-image: radial-gradient(rgba(255, 255, 255, .35) 1px, transparent 1px);
    background-size: 18px 18px;
}

.colorbox+.colorbox {
    margin-top: 12px !important;
}

/* Section 1 & 2 keep left accent (blue) */
.colorbox.syllabus,
.colorbox.context {
    background-color: var(--blue-bg) !important;
    border-left: 10px solid var(--blue-bar) !important;
}

/* Section 4/5/6: shaded only (no left accent bar) */
.colorbox.beyond {
    background-color: var(--green-bg) !important;
    border-left: 0 !important;
    border-top: 6px solid var(--green-top) !important;
}

.colorbox.prelims {
    background-color: var(--amber-bg) !important;
    border-left: 0 !important;
    border-top: 6px solid var(--amber-top) !important;
}

.colorbox.mains {
    background-color: var(--violet-bg) !important;
    border-left: 0 !important;
    border-top: 6px solid var(--violet-top) !important;
}

/* Heading chips inside boxes */
.colorbox>h2,
.colorbox>h3,
.colorbox>h4,
.colorbox>h5,
.colorbox>h6 {
    display: block;
    padding: 10px 12px;
    border-radius: 12px;
    margin: 0 0 8px 0;
    border: 1px solid rgba(15, 36, 51, .10);
    background: rgba(255, 255, 255, .60);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, .40);
    font-weight: 950;
}

/* Subtle tint per section */
.colorbox.syllabus>h2,
.colorbox.syllabus>h3,
.colorbox.syllabus>h4,
.colorbox.context>h2,
.colorbox.context>h3,
.colorbox.context>h4 {
    background: rgba(43, 106, 164, .14) !important;
}

.colorbox.beyond>h2,
.colorbox.beyond>h3,
.colorbox.beyond>h4 {
    background: rgba(47, 125, 74, .14) !important;
}

.colorbox.prelims>h2,
.colorbox.prelims>h3,
.colorbox.prelims>h4,
.colorbox.prelims>h5 {
    background: rgba(176, 106, 0, .15) !important;
}

.colorbox.mains>h2,
.colorbox.mains>h3,
.colorbox.mains>h4,
.colorbox.mains>h5,
.colorbox.mains>h6 {
    background: rgba(92, 56, 181, .14) !important;
}

/* Splittable table */
.gridtable {
    display: block;
    width: 100%;
    border: 1px solid rgba(15, 36, 51, .12);
    border-radius: 12px;
    background: rgba(255, 255, 255, .85);
    overflow: visible;
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
}

.gridtable .gt-row {
    display: block;
}

.gridtable .gt-cell {
    display: inline-block;
    width: 34%;
    vertical-align: top;
    padding: 8px 10px;
    border-top: 1px solid rgba(15, 36, 51, .08);
    border-right: 1px solid rgba(15, 36, 51, .08);
    box-sizing: border-box;
    font-size: 0.95em;
}

.gridtable .gt-row .gt-cell:last-child {
    width: 66%;
    border-right: none;
}

.gridtable .gt-head .gt-cell {
    font-weight: 900;
    background: rgba(15, 36, 51, .04);
    border-top: none;
    letter-spacing: .02em;
}
